Vue.http.headers.common['X-CSRF-TOKEN']=document.querySelector('#_token').getAttribute('content');var app=new Vue({el:'#app',methods:{desvincular(id_adotivo){swal({title:"Tem certeza?",text:"O vínculo entre adotivo e adontate(s) será desfeito!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Sim",cancelButtonText:"Cancelar",closeOnConfirm:!1,closeOnCancel:!1},function(isConfirm){if(isConfirm){var placeholder="placeholder='Digite o motivo para o fim do vínculo'";swal({title:"Informe o motivo do fim do vínculo!",text:"<textarea class='form-control sweet-alert-textarea' rows='12' "+placeholder+" id='text-motivo'></textarea><br>",html:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Desvincular",cancelButtonText:"Cancelar",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",showLoaderOnConfirm:!1},function(isConfirm){if(isConfirm){var inputValue=$('#text-motivo').val();if(inputValue===!1)return!1;if(inputValue===""){swal.showInputError("É obrigatório informar o motivo!");return!1}
var body={id_adotivo:id_adotivo,observacoes:inputValue};app.$http.put(url_request,body).then((response)=>{console.log(response);swal({title:"Desvinculado!",text:"Adotivo e adotante(s) foram desvinculados!",type:"success"},function(){window.location=url_base+'/vinculos/adotivo/'+id_adotivo+"/#tab_vinculo_atual"})},(response)=>{})}})}else{swal("Cancelado","Adotivo e adotante(s) ainda estão associados!","error")}})}}});$(document).ready(function(){$("#adotante_id").select2({language:{noResults:function(){return"Adotante não encontrado!"}}});if(window.location.hash=="#tab_vinculo_atual"){$('a[href="#tab_vinculo_atual"]').tab('show')}})